<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
        <label>Current Password</label>
        <input type="password" formControlName="currentPassword">
        <div *ngIf="form.get('currentPassword')?.touched && form.get('currentPassword')?.invalid">
            Current password is required.
        </div>
    </div>

    <div>
        <label>New Password</label>
        <input type="password" formControlName="newPassword">
        <div *ngIf="form.get('newPassword')?.hasError('minlength')">
            Must be at least 8 characters.
        </div>
    </div>

    <div>
        <label>Confirm New Password</label>
        <input type="password" formControlName="confirmPassword">
        <div *ngIf="form.hasError('mismatch')">
            Passwords do not match.
        </div>
    </div>

    <button type="submit" [disabled]="form.invalid || isSubmitting">
        Change Password
    </button>

    <div *ngIf="serverMessage">{{ serverMessage }}</div>
</form>
  