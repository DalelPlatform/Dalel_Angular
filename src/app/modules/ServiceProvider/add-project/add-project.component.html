
<div class="add-project-container">
    <!-- Header Section -->
    <div class="header-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-12 text-center">
                    <h1 class="page-title">
                        <i class="fas fa-plus-circle me-3"></i>
                        Add New Project
                    </h1>
                    <p class="page-subtitle">Create and showcase your professional projects to attract more clients</p>
                </div>

            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-11 col-xl-11">
                    <!-- Loading Spinner -->
                    <div *ngIf="isLoading" class="loading-spinner">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-3">Loading your profile...</p>
                    </div>

                    <!-- Project Form Card -->
                    <div *ngIf="!isLoading" class="project-form-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-project-diagram me-2"></i>
                                Project Information
                            </h3>
                            <p class="card-subtitle">Fill in the details below to create your project</p>
                        </div>
                        <div class="card-body">
                            <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" novalidate>
                                <div class="row">
                                    <!-- Project Name -->
                                    <div class="col-md-6 mb-4">
                                        <label for="name" class="form-label">
                                            <i class="fas fa-tag me-2"></i>Project Name
                                            <span class="required">*</span>
                                        </label>
                                        <input id="name" type="text" class="form-control"
                                            [class.is-invalid]="isFieldInvalid('Name')" formControlName="Name"
                                            placeholder="Enter a compelling project name" maxlength="100" />
                                        <div class="invalid-feedback" *ngIf="isFieldInvalid('Name')">
                                            {{ getFieldError('Name') }}
                                        </div>
                                        <div class="form-text">
                                            <small>{{ projectForm.get('Name')?.value?.length || 0 }}/100
                                                characters</small>
                                        </div>
                                    </div>

                                    <!-- Approximate Price -->
                                    <div class="col-md-6 mb-4">
                                        <label for="price" class="form-label">
                                            <i class="fas fa-dollar-sign me-2"></i>Approximate Price
                                            <span class="required">*</span>
                                        </label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input id="price" type="number" class="form-control"
                                                [class.is-invalid]="isFieldInvalid('ApproximatePrice')"
                                                formControlName="ApproximatePrice" placeholder="1000" min="1"
                                                step="0.01" />
                                        </div>
                                        <div class="invalid-feedback" *ngIf="isFieldInvalid('ApproximatePrice')">
                                            {{ getFieldError('ApproximatePrice') }}
                                        </div>
                                    </div>

                                    <!-- Price Unit -->
                                    <div class="col-md-6 mb-4">
                                        <label for="priceUnit" class="form-label">
                                            <i class="fas fa-clock me-2"></i>Price Unit
                                            <span class="required">*</span>
                                        </label>
                                        <select id="priceUnit" class="form-select"
                                            [class.is-invalid]="isFieldInvalid('PriceUnit')"
                                            formControlName="PriceUnit">
                                            <option value="per_hour">Per Hour</option>
                                            <option value="per_day">Per Project</option>
                                        </select>
                                        <div class="invalid-feedback" *ngIf="isFieldInvalid('PriceUnit')">
                                            {{ getFieldError('PriceUnit') }}
                                        </div>
                                    </div>

                                    <!-- Project Description -->
                                    <div class="col-12 mb-4">
                                        <label for="description" class="form-label">
                                            <i class="fas fa-align-left me-2"></i>Project Description
                                            <span class="required">*</span>
                                        </label>
                                        <textarea id="description" rows="4" class="form-control"
                                            [class.is-invalid]="isFieldInvalid('Description')"
                                            formControlName="Description"
                                            placeholder="Describe your project in detail. Include key features, technologies used, and what makes it unique..."
                                            maxlength="500"></textarea>
                                        <div class="invalid-feedback" *ngIf="isFieldInvalid('Description')">
                                            {{ getFieldError('Description') }}
                                        </div>
                                        <div class="form-text">
                                            <small>{{ projectForm.get('Description')?.value?.length || 0 }}/500
                                                characters</small>
                                        </div>
                                    </div>

                                    <!-- Project Image -->
                                    <div class="col-12 mb-4">
                                        <label for="image" class="form-label">
                                            <i class="fas fa-image me-2"></i>Project Image
                                            <span class="required">*</span>
                                        </label>

                                        <div class="image-upload-section">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="upload-area"
                                                        [class.has-error]="isFieldInvalid('Image')">
                                                        <input id="image" type="file" class="form-control"
                                                            (change)="onImageSelected($event)"
                                                            accept="image/jpeg,image/png,image/jpg,image/webp" />
                                                        <div class="upload-instructions">
                                                            <i class="fas fa-cloud-upload-alt"></i>
                                                            <p>Choose an image file</p>
                                                            <small>Supports: JPEG, PNG, JPG, WebP (Max 5MB)</small>
                                                        </div>
                                                    </div>
                                                    <div class="invalid-feedback" *ngIf="isFieldInvalid('Image')">
                                                        {{ getFieldError('Image') }}
                                                    </div>
                                                </div>

                                                <div class="col-md-6" *ngIf="imagePreview">
                                                    <div class="image-preview-container">
                                                        <img [src]="imagePreview" class="image-preview"
                                                            alt="Project preview" />
                                                        <button type="button"
                                                            class="btn btn-danger btn-sm remove-image-btn"
                                                            (click)="removeImage()" title="Remove image">
                                                            <i class="fas fa-times"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="action-buttons">
                                    <div class="row">
                                        <!-- <div class="col-md-6">
                      <button
                        type="button"
                        class="btn btn-outline-secondary w-100"
                        (click)="resetForm()"
                        [disabled]="isSubmitting"
                      >
                        <i class="fas fa-undo me-2"></i>Reset Form
                      </button>
                    </div> -->
                                        <div class="col-md-6">
                                            <button type="submit" class="btn btn-primary w-100"
                                                [disabled]="isSubmitting || projectForm.invalid">
                                                <span *ngIf="isSubmitting"
                                                    class="spinner-border spinner-border-sm me-2"></span>
                                                <i *ngIf="!isSubmitting" class="fas fa-plus me-2"></i>
                                                {{ isSubmitting ? 'Creating Project...' : 'Create Project' }}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Help Section -->
                    <div class="help-section mt-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">
                                    <i class="fas fa-lightbulb me-2"></i>Tips for Success
                                </h5>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="tip-item">
                                            <i class="fas fa-star"></i>
                                            <strong>Eye-catching Title</strong>
                                            <p>Use descriptive, professional project names that clearly communicate what
                                                you built.</p>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="tip-item">
                                            <i class="fas fa-image"></i>
                                            <strong>High-Quality Images</strong>
                                            <p>Upload clear, high-resolution images that showcase your work
                                                professionally.</p>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="tip-item">
                                            <i class="fas fa-align-left"></i>
                                            <strong>Detailed Description</strong>
                                            <p>Explain your project's features, technologies used, and the value it
                                                provides.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>