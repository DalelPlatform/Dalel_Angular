<div class="container py-4">
  <h2 class="mb-4 fw-bold heading">My Agencies</h2>
  <div class="row g-4">
    <div class="col-md-6 col-lg-6 col-xxl-4" *ngFor="let agency of agencies; let i = index">
      <div class="card border-0 shadow rounded-4 h-100">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start mb-2 position-relative" >
            <div>
              <p class="mb-1"><strong>BusinessName:</strong>
                <span class="text-secondary">{{ agency.BusinessName }}</span>
              </p>
             
            </div>
            <div class="d-flex align-items-center gap-2">
              <span class="px-1" class="status-badge">
                {{
                  agency.VerificationStatus === 0
                    ? 'Pending'
                    : agency.VerificationStatus === 1
                    ? 'Verified'
                    : 'Rejected'
                }}
              </span>
              <span>
                <div class="dropdown end-0 ">
                <span data-bs-toggle="dropdown" role="button" aria-expanded="false">
                  <i class="fa-solid fa-ellipsis-vertical"></i>
                </span>
                <ul class="dropdown-menu dropdown-menu-end dropdown-inside-card">
                  <li><a class="dropdown-item" (click)="viewPackages(agency.Id)">View Package</a></li>
                  <li><a class="dropdown-item" (click)="UpdateAgecy(agency.Id)">Update Agency</a></li>
                  <li><a class="dropdown-item" (click)="deleteAgecy(agency.Id)">Delete Agency</a></li>
                </ul>
              </div>
              </span>
            </div>
          </div>
  <p class="mb-1"><strong>BusinessCategory:</strong>
                <span class="text-secondary">{{ agency.BusinessCategory }}</span>
              </p>
          <p class="mb-1"><strong>Description:</strong>
            <span class="text-secondary">{{ agency.Description }}</span>
          </p>
          <p class="mb-1"><strong>Contact:</strong>
            <span class="text-secondary">{{ agency.ContactInfo }}</span>
          </p>
          <p class="mb-1">
            <strong>Address:</strong>
            <span class="text-secondary">{{ agency.Street }}, {{ agency.City }}</span><br />
            <strong>Building No: </strong><span class="text-secondary"> {{ agency.BuildingNo }}</span>
          </p>
          <p class="mb-1">
            <strong>Coordinates:</strong>
            <span class="text-secondary">{{ agency.Latitude }}, {{ agency.Longitude }}</span>
          </p>

          <!-- <div class="mt-3" *ngIf="agency.VerificationDocument?.length > 0">
            <p class="fw-bold">Verification Documents:</p>
            <ul class="list-unstyled">
              <li *ngFor="let doc of agency.VerificationDocument" class="mb-2 d-flex align-items-center gap-2">
                <i class="fa-solid fa-file-pdf text-danger"></i>
                <span class="text-secondary me-auto">
                  {{ doc.DocumentType?.toUpperCase() }} -
                  <small>Status:</small>
                  <span
                    [ngClass]="{
                      'text-warning': doc.status === 0,
                      'text-success': doc.status === 1,
                      'text-danger': doc.status === 2
                    }"
                  >
                    {{
                      doc.status === 0
                        ? 'Pending'
                        : doc.status === 1
                        ? 'Verified'
                        : 'Rejected'
                    }}
                  </span>
                </span>
             
              </li>
            </ul>
          </div> -->

        </div>
      </div>
    </div>
  </div>
</div>
